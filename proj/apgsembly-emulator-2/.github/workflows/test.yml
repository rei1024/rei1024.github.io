name: Test by Deno

on:
  push:
    branches: [main]
    paths:
      - "src/**"
      - "test/**"
      - "tm_to_apg/**"
      - "turmites/**"
      - "transpiler/**"
      - "labs/fast_emulator/**"
      - "generator/**"
  pull_request:
    branches: [main]
    paths:
      - "src/**"
      - "test/**"
      - "tm_to_apg/**"
      - "turmites/**"
      - "transpiler/**"
      - "labs/fast_emulator/**"
      - "generator/**"
jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Git Checkout Deno Module
        uses: actions/checkout@v3
      - name: Install Deno
        uses: denoland/setup-deno@v1
        with:
          deno-version: v1.x # latest
      # - name: Lint Deno Module
      #   run: deno fmt --check
      # - name: Build Deno Module
      #   run: deno run --reload mod.ts
      - name: Run Lint
        run: deno task lint
      - name: Run Test
        run: deno task t
