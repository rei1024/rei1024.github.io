<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APGsembly 2.0 Emulator</title>
    <meta name="description" content="An Emulator for APGsembly">
    <meta name="keywords" content="Game of Life,GoL,APGsembly,General purpose calculator,GPC">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="./frontend/index.js" type="module"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
</head>
<body>
    <header class="text-center">
        <h1>APGsembly 2.0 Emulator</h1>
    </header>
    <main class="container">
        <div id="error" style="display: none;" class="alert alert-danger" role="alert">
        </div>
        <div class="mb-3">
            <label for="input" class="form-label">Input</label>
            <textarea class="form-control" name="" id="input" cols="50" rows="8"></textarea>
        </div>
        <div class="btn-group" role="group" aria-label="Basic example">
            <button id="reset" type="button" class="btn btn-primary">Reset</button>
            <button id="start" type="button" class="btn btn-primary">Start</button>
            <button id="stop" type="button" class="btn btn-primary">Stop</button>
            <button id="step" type="button" class="btn btn-primary">Step</button>
            <button id="step_config" type="button" class="btn btn-primary">Step Config</button>
            <button type="button" class="btn btn-primary dropdown-toggle" id="samples" data-bs-toggle="dropdown" aria-expanded="false">Sample</button>
            <ul class="dropdown-menu" aria-labelledby="samples">
                <li>
                    <button class="dropdown-item js_sample" data-src="pi_calc.txt">Pi Calculator</button>
                    <button class="dropdown-item js_sample" data-src="koch.txt">Koch snowfrake</button>
                </li>
            </ul>
            <input id="import_file" type="file" style="display: none;">
            <label for="import_file" type="button" class="btn btn-primary">Import</button>
        </div>
        <div class="mt-1 mb-3">
            <label for="output" class="form-label">Speed <span id="frequency_output"></span></label>
            <!-- index.jsでminとmaxは設定 -->
            <input id="frequency_input" class="form-control" value="11" type="range">
        </div>
        <div>
            State
            <style>
                #state td, #state th {
                    padding: 4px;
                }
            </style>
            <table class="table" id="state">
                <tbody>
                    <tr>
                        <th>Current state</th>
                        <th>Previous output</th>
                        <th>Steps</th>
                    </tr>
                    <tr class="pb-0">
                        <td id="current_state">INITIAL</td>
                        <td id="previous_output">Z</td>
                        <td><code style="color: black;" id="steps"></code></td>
                    </tr>
                </tbody>
            </table>
            <p class="mb-1">
                Command: <code id="command"></code>
            </p>
        </div>
        <div class="mb-3">
            <details open>
                <summary>
                    Output
                </summary>
                <textarea class="form-control" name="" id="output" cols="50" rows="3"></textarea>
            </details>
        </div>
        <div class="mb-3">
            <details open>
                <summary>
                    Unary Register
                </summary>
                <div id="unary_register"></div>
            </details>
        </div>    
        <div class="mb-3">
            <details id="binary_register_detail" open>
                <summary>
                    Binary Register
                </summary>
                <div id="binary_register"></div>
                <table>
                    <!-- <tr>
                        <th>B1</th>
                        <td>
                            <code style="word-break: break-all">
                                <span class="prefix">110011010</span><span class="head" style="color: #0D47A1;">1</span><span class="suffix">101101001</span>
                            </code>
                        </td>
                        <td class="pl-2 decimal">3432</td>
                    </tr> -->
                </table>
            </details>
        </div>     
        <div class="mb-3">
            <details id="add_sub_mul_detail" open>
                <summary>
                    ADD SUB MUL
                </summary>
                <code id="add_sub_mul">

                </code>
            </details>
        </div>    
        <div class="mb-3">
            <details id="b2d_detail" open>
                <summary>
                    B2D
                </summary>
                <div>
                    x = <span id="b2dx"></span>,
                    y = <span id="b2dy"></span>
                </div>
                <canvas id="canvas">

                </canvas>                
            </details>
        </div>
    </main>
    <footer class="mt-3">
        
    </footer>
</body>
</html>
